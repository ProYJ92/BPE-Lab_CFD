<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenFOAM 사용 설명서: 솔버 - 연구실 이름</title>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="../../style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-primary': '#00529B', 
                        'brand-secondary': '#0077CC',
                        'brand-accent': '#FFC107', 
                        'neutral-light': '#F8F9FA',
                        'neutral-medium': '#E9ECEF',
                        'neutral-dark': '#343A40',
                    },
                    fontFamily: {
                        sans: ['Noto Sans KR', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body class="bg-neutral-light text-neutral-dark font-sans antialiased flex flex-col min-h-screen">

    <header class="bg-brand-primary text-white shadow-medium sticky top-0 z-50 h-auto md:h-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center py-2 md:py-0">
            <div class="flex justify-between w-full md:w-auto items-center">
                <a href="../../index.html" class="text-xl sm:text-2xl font-bold hover:text-brand-accent transition-colors duration-300 py-2">연구실 명칭 (CFD & Bioprocess)</a>
                <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none">
                    <i data-lucide="menu" class="w-7 h-7"></i>
                </button>
            </div>
            <nav class="hidden md:flex items-center space-x-1 main-nav">
                <div class="relative group">
                    <button class="nav-item">사용 설명서 <i data-lucide="chevron-down" class="icon-sm"></i></button>
                    <div class="nav-dropdown">
                        <span class="nav-dropdown-header">Ansys Fluent</span>
                        <a href="../ansys_fluent/introduction.html" class="nav-dropdown-item">소개</a>
                        <span class="nav-dropdown-header">OpenFOAM</span>
                        <a href="introduction.html" class="nav-dropdown-item">소개</a>
                        <a href="installation.html" class="nav-dropdown-item">설치</a>
                        <a href="preprocessing.html" class="nav-dropdown-item">전처리</a>
                        <a href="solver.html" class="nav-dropdown-item">솔버</a>
                        <a href="postprocessing.html" class="nav-dropdown-item">후처리</a>
                        <a href="verification_validation.html" class="nav-dropdown-item">V & V</a>
                        <a href="troubleshooting.html" class="nav-dropdown-item">문제 해결</a>
                        <a href="resources.html" class="nav-dropdown-item">자료실</a>
                        <span class="nav-dropdown-header">M-STAR CFD</span>
                        <a href="../mstar_cfd/introduction.html" class="nav-dropdown-item">소개</a>
                    </div>
                </div>
                <!-- Other main menus -->
            </nav>
        </div>
        <div id="mobile-menu" class="hidden md:hidden w-full bg-brand-primary shadow-lg max-h-[calc(100vh-4rem)] overflow-y-auto">
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8 flex-grow w-full">
        <div class="bg-white p-6 md:p-8 rounded-lg shadow-subtle">
            <h1 class="text-3xl font-semibold text-brand-primary mb-6 border-b pb-3">OpenFOAM 사용 설명서: 솔버 선택 및 실행</h1>
            <div class="prose max-w-none prose-neutral lg:prose-lg">
                <p>OpenFOAM에서 "솔버"는 특정 물리 현상을 지배하는 방정식을 푸는 실행 프로그램을 의미합니다. 전처리 과정에서 사례 설정(딕셔너리 파일 작성)이 완료되면, 적절한 솔버를 선택하고 실행하여 수치 해석을 진행합니다. 솔버의 선택과 실행 방법, 그리고 해석 제어에 관련된 주요 딕셔너리 파일(<code>controlDict</code>, <code>fvSchemes</code>, <code>fvSolution</code>)의 설정이 중요합니다.</p>

                <h2 class="text-2xl font-medium text-brand-secondary mt-8 mb-4">1. 솔버 선택</h2>
                <p>OpenFOAM은 다양한 표준 솔버를 제공하며, 문제의 물리적 특성에 따라 적합한 솔버를 선택해야 합니다. 주요 솔버 유형은 다음과 같습니다 (전체 목록은 OpenFOAM 사용자 가이드 참조):</p>
                <ul class="list-disc pl-5 space-y-1">
                    <li><strong>비압축성 유동 솔버:</strong>
                        <ul class="list-circle pl-5 space-y-1 mt-1">
                            <li><code>icoFoam</code>: 비압축성, 층류, 비정상 상태 유동 (예: Lid-driven cavity)</li>
                            <li><code>simpleFoam</code>: 비압축성, 난류(RANS), 정상 상태 유동 (SIMPLE 알고리즘 기반)</li>
                            <li><code>pisoFoam</code>: 비압축성, 난류(RANS/LES), 비정상 상태 유동 (PISO 알고리즘 기반)</li>
                            <li><code>pimpleFoam</code>: 비압축성, 난류(RANS/LES), 비정상 상태 유동 (PIMPLE 알고리즘 - PISO와 SIMPLE의 결합, 큰 시간 간격 사용 가능)</li>
                        </ul>
                    </li>
                    <li><strong>압축성 유동 솔버:</strong>
                        <ul class="list-circle pl-5 space-y-1 mt-1">
                            <li><code>rhoSimpleFoam</code>: 압축성, 난류(RANS), 정상 상태 유동</li>
                            <li><code>rhoPimpleFoam</code>: 압축성, 난류(RANS/LES), 비정상 상태 유동</li>
                            <li><code>sonicFoam</code>: 압축성, 천음속/초음속 유동</li>
                        </ul>
                    </li>
                    <li><strong>다상 유동 솔버:</strong>
                        <ul class="list-circle pl-5 space-y-1 mt-1">
                            <li><code>interFoam</code>: 섞이지 않는 두 유체 계면 추적 (VOF 모델 기반, 예: 댐 붕괴, 파도)</li>
                            <li><code>twoPhaseEulerFoam</code>: Eulerian-Eulerian 다상 유동 모델 (예: 기포 유동)</li>
                            <li><code>MPPICFoam</code>: 다상 입자 구름(Multiphase Particle-In-Cell) 해석</li>
                        </ul>
                    </li>
                    <li><strong>열전달 및 연소 솔버:</strong>
                        <ul class="list-circle pl-5 space-y-1 mt-1">
                            <li><code>chtMultiRegionSimpleFoam</code>: 고체-유체 연계 열전달(CHT), 정상 상태</li>
                            <li><code>buoyantPimpleFoam</code>: 부력 효과를 고려한 비정상 상태 열전달</li>
                            <li><code>reactingFoam</code>: 화학 반응 및 연소</li>
                        </ul>
                    </li>
                    <li>기타: 전자기학, 유체-구조 연성(FSI) 등 다양한 솔버가 존재합니다.</li>
                </ul>
                <p>선택한 솔버는 일반적으로 터미널에서 직접 실행합니다.</p>

                <h2 class="text-2xl font-medium text-brand-secondary mt-8 mb-4">2. 주요 제어 딕셔너리 파일 설정</h2>
                <p><code>system</code> 디렉토리 내의 <code>controlDict</code>, <code>fvSchemes</code>, <code>fvSolution</code> 파일은 솔버의 작동 방식과 수치 해석 방법을 제어하는 핵심적인 역할을 합니다.</p>
                
                <h3 class="text-xl font-semibold text-neutral-dark mt-4 mb-2">controlDict</h3>
                <p>해석의 전반적인 제어 설정을 담당합니다.</p>
                <ul class="list-disc pl-5 space-y-1">
                    <li><code>application</code>: 사용할 솔버 이름 (예: <code>simpleFoam</code>).</li>
                    <li><code>startFrom</code>: 계산 시작 시점 (<code>startTime</code>, <code>firstTime</code>, <code>latestTime</code>).</li>
                    <li><code>startTime</code>: 계산 시작 시간 값.</li>
                    <li><code>stopAt</code>: 계산 종료 조건 (<code>endTime</code>, <code>writeNow</code>, <code>noWriteNow</code>, <code>nextWrite</code>).</li>
                    <li><code>endTime</code>: 계산 종료 시간 값.</li>
                    <li><code>deltaT</code>: 시간 간격 (Time step size).</li>
                    <li><code>writeControl</code>: 결과 저장 방식 (<code>timeStep</code>, <code>runTime</code>, <code>adjustableRunTime</code>, <code>cpuTime</code>, <code>clockTime</code>).</li>
                    <li><code>writeInterval</code>: 결과 저장 간격.</li>
                    <li><code>purgeWrite</code>: 오래된 시간 디렉토리 삭제 옵션 (0은 삭제 안 함).</li>
                    <li><code>writeFormat</code>: 결과 파일 형식 (<code>ascii</code>, <code>binary</code>).</li>
                    <li><code>writePrecision</code>: 결과 파일의 수치 정밀도.</li>
                    <li><code>timeFormat</code>: 시간 디렉토리 이름 형식.</li>
                    <li><code>functions</code>: 계산 중 실행할 후처리 기능 정의 (예: 프로브, 필드 평균, 힘 계산).</li>
                </ul>
                 <div class="my-4 p-2 bg-neutral-light rounded text-center italic text-sm text-gray-600"> (이미지: controlDict 파일의 주요 파라미터 예시) </div>

                <h3 class="text-xl font-semibold text-neutral-dark mt-4 mb-2">fvSchemes</h3>
                <p>유한 체적법의 각 미분항에 대한 이산화 기법(차분 스킴)을 정의합니다.</p>
                <ul class="list-disc pl-5 space-y-1">
                    <li><code>ddtSchemes</code>: 시간 미분항 (예: <code>Euler</code>, <code>CrankNicolson</code>, <code>backward</code>).</li>
                    <li><code>gradSchemes</code>: 구배항 (예: <code>Gauss linear</code>, <code>leastSquares</code>).</li>
                    <li><code>divSchemes</code>: 발산항 (예: <code>Gauss upwind</code>, <code>Gauss linearUpwind</code>, <code>Gauss linear</code>, <code>Gauss limitedLinear</code>). 대류항의 이산화는 결과의 정확도와 안정성에 큰 영향을 미칩니다.</li>
                    <li><code>laplacianSchemes</code>: 라플라시안항 (예: <code>Gauss linear corrected</code>).</li>
                    <li><code>interpolationSchemes</code>: 셀 중심 값을 면 중심으로 보간하는 방법 (예: <code>linear</code>).</li>
                    <li><code>snGradSchemes</code>: 면 법선 방향 구배항 (예: <code>corrected</code>).</li>
                </ul>
                <p>일반적으로 안정성을 위해 초기에는 1차 정확도 스킴(예: <code>upwind</code>)을 사용하고, 유동장이 안정화되면 2차 정확도 스킴(예: <code>linearUpwind</code>, <code>limitedLinear</code>)으로 변경하여 정확도를 높입니다.</p>

                <h3 class="text-xl font-semibold text-neutral-dark mt-4 mb-2">fvSolution</h3>
                <p>이산화된 선형 대수 방정식 시스템을 풀기 위한 솔버, 허용 오차(tolerance), 감속 계수(under-relaxation factors), 압력-속도 연계 알고리즘 등을 설정합니다.</p>
                <ul class="list-disc pl-5 space-y-1">
                    <li><code>solvers</code>: 각 변수(<code>p</code>, <code>U</code>, <code>k</code>, <code>epsilon</code> 등)에 대한 선형 솔버 및 설정을 정의합니다.
                        <ul class="list-circle pl-5 space-y-1 mt-1">
                            <li>솔버 종류: <code>PCG</code> (Preconditioned Conjugate Gradient - 대칭 행렬), <code>PBiCGStab</code> (Preconditioned Bi-Conjugate Gradient Stabilized - 비대칭 행렬), <code>smoothSolver</code> (예: GaussSeidel) 등.</li>
                            <li>Preconditioner: <code>DIC</code> (Diagonal Incomplete Cholesky), <code>GAMG</code> (Geometric Algebraic Multi-Grid), <code>none</code> 등.</li>
                            <li><code>tolerance</code>: 각 변수 솔버의 상대적 허용 오차.</li>
                            <li><code>relTol</code>: 잔차가 이 값 이하로 감소하면 해당 변수 솔버의 반복 중단.</li>
                        </ul>
                    </li>
                    <li><code>SIMPLE</code>, <code>PISO</code>, <code>PIMPLE</code>: 선택한 압력-속도 연계 알고리즘에 대한 설정을 포함합니다 (예: 반복 횟수, 잔차 제어).</li>
                    <li><code>relaxationFactors</code>: (SIMPLE 계열 알고리즘 사용 시) 각 변수 또는 방정식에 대한 감속 계수를 설정하여 수렴 안정성을 높입니다.</li>
                </ul>
                <div class="my-4 p-2 bg-neutral-light rounded text-center italic text-sm text-gray-600"> (이미지: fvSolution 파일의 솔버 및 감속 계수 설정 예시) </div>

                <h2 class="text-2xl font-medium text-brand-secondary mt-8 mb-4">3. 솔버 실행 및 모니터링</h2>
                <p>설정이 완료되면 터미널에서 해당 사례 디렉토리로 이동하여 솔버를 실행합니다.</p>
                <pre><code class="language-bash">cd /path/to/your/case
simpleFoam # 또는 선택한 솔버 이름</code></pre>
                <p>병렬 계산을 위해서는 먼저 도메인을 분할(<code>decomposePar</code>)하고, <code>mpirun</code>을 사용하여 솔버를 실행합니다.</p>
                <pre><code class="language-bash">decomposePar
mpirun -np 4 simpleFoam -parallel # 4개의 프로세서로 병렬 실행 예시</code></pre>
                <p>해석이 진행되는 동안 터미널에 잔차(Residuals) 정보가 출력됩니다. 이를 통해 수렴 상황을 모니터링할 수 있습니다. <code>controlDict</code>의 <code>functions</code> 항목에 정의된 후처리 기능(예: 힘 계산, 프로브 데이터 추출)은 계산 중 또는 완료 후 자동으로 실행되어 관련 데이터를 생성합니다.</p>
                <p>OpenFOAM의 솔버 설정은 문제의 특성과 원하는 정확도 수준에 따라 세심한 조정이 필요하며, 다양한 튜토리얼과 문서를 참고하여 경험을 쌓는 것이 중요합니다.</p>
            </div>
        </div>
    </main>

    <footer class="bg-neutral-dark text-neutral-light text-center p-6 mt-auto">
        <p>&copy; <span id="currentYear"></span> 연구실 명칭. 모든 권리 보유.</p>
        <p class="text-sm text-neutral-medium mt-1">본 페이지는 교육 및 연구 목적으로 제작되었습니다.</p>
    </footer>
    
    <script type="module" src="../../script.js"></script>
</body>
</html>
